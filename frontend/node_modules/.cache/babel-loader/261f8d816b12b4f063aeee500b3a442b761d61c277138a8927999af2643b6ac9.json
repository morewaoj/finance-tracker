{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{auth}from'../api/api';import{Container,Paper,Typography,TextField,Button,Alert,Box}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Register(){const[formData,setFormData]=useState({username:'',email:'',password:'',confirmPassword:''});const[error,setError]=useState('');const[loading,setLoading]=useState(false);const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');if(formData.password!==formData.confirmPassword){setError('Passwords do not match');setLoading(false);return;}// Basic email validation\nconst emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;if(!emailRegex.test(formData.email)){setError('Please enter a valid email address');setLoading(false);return;}try{await auth.register({username:formData.username,email:formData.email,password:formData.password});navigate('/login');}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Registration failed. Please try again.');}finally{setLoading(false);}};const handleChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});};return/*#__PURE__*/_jsx(Container,{maxWidth:\"sm\",children:/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{padding:4,marginTop:8},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",align:\"center\",gutterBottom:true,children:\"Register\"}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:2},children:error}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(TextField,{label:\"Username\",name:\"username\",value:formData.username,onChange:handleChange,fullWidth:true,margin:\"normal\",required:true}),/*#__PURE__*/_jsx(TextField,{label:\"Email\",type:\"email\",name:\"email\",value:formData.email,onChange:handleChange,fullWidth:true,margin:\"normal\",required:true}),/*#__PURE__*/_jsx(TextField,{label:\"Password\",type:\"password\",name:\"password\",value:formData.password,onChange:handleChange,fullWidth:true,margin:\"normal\",required:true}),/*#__PURE__*/_jsx(TextField,{label:\"Confirm Password\",type:\"password\",name:\"confirmPassword\",value:formData.confirmPassword,onChange:handleChange,fullWidth:true,margin:\"normal\",required:true}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",fullWidth:true,disabled:loading,sx:{mt:2},children:loading?'Registering...':'Register'})]})]})});}export default Register;","map":{"version":3,"names":["React","useState","useNavigate","auth","Container","Paper","Typography","TextField","Button","Alert","Box","jsx","_jsx","jsxs","_jsxs","Register","formData","setFormData","username","email","password","confirmPassword","error","setError","loading","setLoading","navigate","handleSubmit","e","preventDefault","emailRegex","test","register","err","_err$response","_err$response$data","response","data","message","handleChange","target","name","value","maxWidth","children","elevation","sx","padding","marginTop","variant","align","gutterBottom","severity","mb","component","onSubmit","label","onChange","fullWidth","margin","required","type","disabled","mt"],"sources":["/Users/morewaomolabi/Downloads/financetracker/finance-tracker/frontend/src/pages/Register.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { auth } from '../api/api';\nimport {\n  Container,\n  Paper,\n  Typography,\n  TextField,\n  Button,\n  Alert,\n  Box\n} from '@mui/material';\n\nfunction Register() {\n  const [formData, setFormData] = useState({\n    username: '',\n    email: '',\n    password: '',\n    confirmPassword: ''\n  });\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    if (formData.password !== formData.confirmPassword) {\n      setError('Passwords do not match');\n      setLoading(false);\n      return;\n    }\n\n    // Basic email validation\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(formData.email)) {\n      setError('Please enter a valid email address');\n      setLoading(false);\n      return;\n    }\n\n    try {\n      await auth.register({\n        username: formData.username,\n        email: formData.email,\n        password: formData.password\n      });\n      navigate('/login');\n    } catch (err) {\n      setError(err.response?.data?.message || 'Registration failed. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  return (\n    <Container maxWidth=\"sm\">\n      <Paper elevation={3} sx={{ padding: 4, marginTop: 8 }}>\n        <Typography variant=\"h4\" align=\"center\" gutterBottom>\n          Register\n        </Typography>\n        \n        {error && (\n          <Alert severity=\"error\" sx={{ mb: 2 }}>\n            {error}\n          </Alert>\n        )}\n\n        <Box component=\"form\" onSubmit={handleSubmit}>\n          <TextField\n            label=\"Username\"\n            name=\"username\"\n            value={formData.username}\n            onChange={handleChange}\n            fullWidth\n            margin=\"normal\"\n            required\n          />\n          \n          <TextField\n            label=\"Email\"\n            type=\"email\"\n            name=\"email\"\n            value={formData.email}\n            onChange={handleChange}\n            fullWidth\n            margin=\"normal\"\n            required\n          />\n\n          <TextField\n            label=\"Password\"\n            type=\"password\"\n            name=\"password\"\n            value={formData.password}\n            onChange={handleChange}\n            fullWidth\n            margin=\"normal\"\n            required\n          />\n\n          <TextField\n            label=\"Confirm Password\"\n            type=\"password\"\n            name=\"confirmPassword\"\n            value={formData.confirmPassword}\n            onChange={handleChange}\n            fullWidth\n            margin=\"normal\"\n            required\n          />\n\n          <Button\n            type=\"submit\"\n            variant=\"contained\"\n            fullWidth\n            disabled={loading}\n            sx={{ mt: 2 }}\n          >\n            {loading ? 'Registering...' : 'Register'}\n          </Button>\n        </Box>\n      </Paper>\n    </Container>\n  );\n}\n\nexport default Register;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}